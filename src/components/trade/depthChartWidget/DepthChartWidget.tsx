import { Highcharts, HighchartsReact } from 'libs/charts';
import { NoData } from 'components/common/noData';
import { getOptions } from 'libs/charts/utils';
import { useDepthChartWidget } from './useDepthChartWidget';
import { useTradeTokens } from '../useTradeTokens';

// TODO: Clean up this component

// const asksData = [
//   [0.1524, 0.948665],
//   [0.1539, 35.510715],
//   [0.154, 39.883437],
//   [0.1541, 40.499661],
//   [0.1545, 43.262994000000006],
//   [0.1547, 60.14799400000001],
//   [0.1553, 60.30799400000001],
//   [0.1558, 60.55018100000001],
//   [0.1564, 68.381696],
//   [0.1567, 69.46518400000001],
//   [0.1569, 69.621464],
//   [0.157, 70.398015],
//   [0.1574, 70.400197],
//   [0.1575, 73.199217],
//   [0.158, 77.700017],
//   [0.1583, 79.449017],
//   [0.1588, 79.584064],
//   [0.159, 80.584064],
//   [0.16, 81.58156],
//   [0.1608, 83.38156],
// ];

// const bidsData = [
//   [0.1435, 242.521842],
//   [0.1436, 206.49862099999999],
//   [0.1437, 205.823735],
//   [0.1438, 197.33275],
//   [0.1439, 153.677454],
//   [0.144, 146.007722],
//   [0.1442, 82.55212900000001],
//   [0.1443, 59.152814000000006],
//   [0.1444, 57.942260000000005],
//   [0.1445, 57.483850000000004],
//   [0.1446, 52.39210800000001],
//   [0.1447, 51.867208000000005],
//   [0.1448, 44.104697],
//   [0.1449, 40.131217],
//   [0.145, 31.878217],
//   [0.1451, 22.794916999999998],
//   [0.1453, 12.345828999999998],
//   [0.1454, 10.035642],
//   [0.148, 9.326642],
//   [0.1522, 3.76317],
// ];

const realSell = [
  [0.12500000001860798, 0],
  [5.973214308919023, 0],
  [11.821428617819437, 0],
  [17.669642926719852, 0],
  [23.51785723562027, 0],
  [29.366071544520683, 0],
  [35.214285853421096, 0],
  [41.06250016232151, 0],
  [46.91071447122193, 0],
  [52.75892878012234, 0],
  [58.607143089022756, 0],
  [64.45535739792317, 0],
  [70.30357170682359, 0],
  [76.151786015724, 0],
  [82.00000032462442, 0],
];
const realBuy = [
  [
    [0.01030927833459174, 0],
    [0.5810014726541988, 0],
    [1.1516936669738058, 0],
    [1.7223858612934126, 0],
    [2.29307805561302, 0],
    [2.8637702499326267, 0],
    [3.4344624442522336, 0],
    [4.005154638571841, 61.22356359681702],
    [4.575846832891448, 58.291239733105535],
    [5.1465390272110545, 53.24652540677371],
    [5.717231221530661, 46.21038949296262],
    [6.287923415850269, 37.28511293697174],
    [6.858615610169876, 26.55865910522296],
    [7.429307804489483, 14.10773367301846],
    [7.9999999988090895, 0],
  ],
];
export const DepthChartWidget = () => {
  const { baseToken, quoteToken } = useTradeTokens();
  const { buyOrders, sellOrders } = useDepthChartWidget(
    baseToken?.address,
    quoteToken?.address
  );
  const options = getOptions(buyOrders, sellOrders);

  const isError = !baseToken || !quoteToken || !buyOrders || !sellOrders;
  console.log('BUY', buyOrders);
  console.log('SELL', sellOrders);

  if (isError || !options) {
    return null;
  }

  return (
    <div className="rounded-10 bg-silver p-20">
      <div className="mb-20 font-weight-500">Depth</div>
      {isError ? (
        <div className="flex h-[300px] items-center justify-center rounded-10 bg-black">
          <NoData />
        </div>
      ) : (
        <HighchartsReact highcharts={Highcharts} options={options} />
      )}
    </div>
  );
};
